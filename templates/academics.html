{% include 'head.html' %}

<body class="g-sidenav-show">
    {% include 'nav.html' %}
    <div class="main-content" id="panel">
        <div id="container"></div>
        <div class="container-fluid pt-3">
            <div class="row  mt-4 removable">
                <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
                    <div class="card">
                        <div class="card-body p-3">
                            <div class="row">
                                <div class="col-6">
                                    <div class="numbers">
                                        <h5 class="font-weight-bolder mb-0">
                                            Academic KPI
                                        </h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-4 removable">
                <div class="col-lg-6 mb-lg-0 mb-5">
                    <div class="card">
                        <div class="card-body p-3">
                            <div id="containerpass">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 mb-lg-0 mb-5">
                    <div class="card">
                        <div class="card-body p-3">
                            <div id="containerquesquality">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script>

    var json_data = JSON.parse({{ json_data | tojson | safe }});
    var pass_percentage_data = json_data.charts.pass_percentage_data;

    Highcharts.chart('containerpass', {
        chart: {
            type: 'column'
        },
        title: {
            text: 'Pass Percentage per Subject'
        },
        subtitle: {
            text: ''
        },
        xAxis: {
            type: 'category',
            labels: {
                rotation: -45,
                style: {
                    fontSize: '13px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
        },
        yAxis: {
            min: 0,
            title: {
                text: 'Percentage of students passed'
            }
        },
        legend: {
            enabled: false
        },
        tooltip: {
            pointFormat: 'pass percentage <b>{point.y:.1f}%</b>'
        },
        series: [{
            name: 'Population',
            colorByPoint: true,
            groupPadding: 0,
            data: pass_percentage_data,
            dataLabels: {
                enabled: true,
                rotation: -90,
                color: '#FFFFFF',
                align: 'right',
                format: '{point.y:.1f}', // one decimal
                y: 10, // 10 pixels down from the top
                style: {
                    fontSize: '13px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
        }]
    });

    Highcharts.chart('containerquesquality', {
        chart: {
            type: 'column'
        },
        title: {
            text: 'Pass Percentage of per Subject'
        },
        subtitle: {
            text: ''
        },
        xAxis: {
            type: 'category',
            labels: {
                rotation: -45,
                style: {
                    fontSize: '13px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
        },
        yAxis: {
            min: 0,
            title: {
                text: 'Percentage of students passed'
            }
        },
        legend: {
            enabled: false
        },
        tooltip: {
            pointFormat: 'pass percentage <b>{point.y:.1f}%</b>'
        },
        series: [{
            name: 'Population',
            colorByPoint: true,
            groupPadding: 0,
            data: pass_percentage_data,
            dataLabels: {
                enabled: true,
                rotation: -90,
                color: '#FFFFFF',
                align: 'right',
                format: '{point.y:.1f}', // one decimal
                y: 10, // 10 pixels down from the top
                style: {
                    fontSize: '13px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
        }]
    });

</script>